---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import HeroImage from '../components/HeroImage.astro';
import GameGallery from '../components/GameGallery.astro';
import Lightbox from '../components/Lightbox.astro';
import ShippingInfo from '../components/ShippingInfo.astro';
import gamesData from '../data/games.json';
import type { Game } from '../data/types';

const games: Game[] = gamesData;
const lastUpdated = new Date().toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<Layout title="Board Game Market - Quality Games For Sale">
  <div class="container">
    <Header />
    <HeroImage games={games} />
    <GameGallery games={games} />
    <footer class="site-footer">
      <ShippingInfo />
      <div class="footer-updated">
        Last updated: {lastUpdated}
      </div>
    </footer>
  </div>
  <Lightbox />
</Layout>

<style>
  .site-footer {
    margin-top: var(--spacing-xl);
    padding-top: var(--spacing-xl);
    border-top: 2px solid var(--color-border);
  }

  .footer-updated {
    margin-top: var(--spacing-lg);
    padding-top: var(--spacing-md);
    text-align: center;
    color: var(--color-text-secondary);
    font-size: 0.875rem;
    border-top: 1px solid var(--color-border-light);
  }
</style>
